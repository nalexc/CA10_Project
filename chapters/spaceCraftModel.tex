\section{Satellite equations of motion }
The satellite equations of motion is split into a kinematic model, which will describe the relation between the orientation of the satellite and the time derivative of the orientation using the rotation of the ECI and SBRF frame, while a dynamic model is established in order to relate the disturbance torques which influence the satellite and the angular velocity.

The derivation of the satellite equations of motion is presented in appendix \ref{chap:C}, therefore, putting together both dynamic and kinematic equation derived in the appendix, the system equations of the satellite will be non-linear and can be combined into a state-space representation as follows:
\begin{flalign}
	\begin{bmatrix}
		\vec{ ^s_i\dot q(t)} \\
		\vec{\dot \omega{(t)}}
	\end{bmatrix} 	
	= 
	\begin{bmatrix}
		\frac{1}{2} \underline{ \Omega}_{(4\times4)} \vec{ ^s_i q(t)} \\
		{-\underline{I}_{s}^{-1}\underline{S}(\vec{\omega})\underline{I}_{s}\vec{\omega}(t)-\underline{I}_{s}^{-1}\underline{S}(\vec{\omega})\vec{h_{rw}}-\underline{I}_{s}^{-1}\vec{N_{rw}}(t)+\underline{I}_{s}^{-1}[\vec{N_{mt}(t)}+\vec{N_{dis}}(t)}]
	\end{bmatrix} 
	\label{eq:seom}
\end{flalign}
where,\\
- $\vec{ ^s_i  q(t)} = [q_1 \ q_2 \ q_3 \ q_4]^T$ \\
- $\vec{\omega{(t)}} = [ \omega_1 \ \omega_2 \ \omega_3]^T$ \\
- $\underline{\Omega}(\omega)$ is the $4\times4$ skew symmetric matrix \\
- $\underline{I}_{s}$ is the inertia matrix \\
- $\underline{S}(\omega)$ is the $3\times3$ skew symmetric matrix \\
- $\vec{N_{dis}}(t)$ is the disturbance torque \\
- $\vec{N_{rw}}$ is the torque from momentum wheels \\
- $\vec{N_{mt}}$ is the torque from magnetorquers  \\
\subsection{Linearized equation of motion}
For the purpose of designing a linear controller, the equations of motion of the satellite need to be linearized. The whole process of linearization is presented in appendix \ref{chap:C}.

Therefore, by using the results from appendix \ref{chap:C} the linear equation of motion can be combined in a state-space form as:
\begin{flalign}
	\begin{bmatrix}
		\vec{ \dot {\tilde{^s_iq}}(t) } \\
		\vec{ \dot {\tilde{\omega}}(t) }
	\end{bmatrix} 	
	= 
	\begin{bmatrix}
		-\underline{S}(\vec{\bar{\omega}}) &	\frac{1}{2} \underline{\vec 1}_{(3\times3)} \\
		\underline{ 0}_{(3\times3)} &	{\underline{I}_{s}^{-1}\underline{S}(\underline{I}_{s}\vec{\bar{\omega}})-\underline{I}_{s}^{-1}\underline{S}(\vec{\bar{\omega}})\underline{I}_{s}}
	\end{bmatrix} 
	\begin{bmatrix}
		\vec{  {\tilde{q}}(t) } \\
		{  {\tilde{\vec \omega}}(t) }
	\end{bmatrix} 	
	-
	\begin{bmatrix}
		\underline{\vec 0}_{(3\times3)} \\
		{\underline I_{s}^{-1}}
	\end{bmatrix} 	
	\vec {\tilde N_{ctrl}}
	\label{eq:lele}
\end{flalign}
where, \\
- $\vec{\tilde N_{ctrl}}$ is the torque from magnetorquers and the reaction wheels and is defined as: $\vec{\tilde N_{ctrl}} = \vec{N_{mt}} - \vec{N_{rw}}$ \\

- $	\vec{ {\tilde{^s_iq}}(t) } $ is the error quaternion \\
- $ \vec{ {\tilde{\omega}}(t)} $ is the error in the angular velocity \\ 
- $ \vec{ {\bar{\omega}}(t)} $ is the nominal value of angular velocity \\ 